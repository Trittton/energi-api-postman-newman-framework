{
  "info": {
    "name": "Energi Data Service API Tests",
    "description": "Production-grade API testing framework for Danish Energi Data Service",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "eval(pm.globals.get('pmlib_code') || '');",
          "",
          "if (!pm.globals.get('pmlib_code')) {",
          "    const utilsCode = `",
          "        var loadSchema = function(schemaName) {",
          "            const schemas = {",
          "                'elspotprices': ${JSON.stringify({",
          "                    '$schema': 'http://json-schema.org/draft-07/schema#',",
          "                    'type': 'object',",
          "                    'required': ['total', 'limit', 'dataset', 'records'],",
          "                    'properties': {",
          "                        'total': { 'type': 'integer', 'minimum': 0 },",
          "                        'limit': { 'type': 'integer', 'minimum': 1 },",
          "                        'dataset': { 'type': 'string', 'enum': ['Elspotprices'] },",
          "                        'records': { 'type': 'array' }",
          "                    }",
          "                })},",
          "                'co2emis': ${JSON.stringify({",
          "                    '$schema': 'http://json-schema.org/draft-07/schema#',",
          "                    'type': 'object',",
          "                    'required': ['total', 'limit', 'dataset', 'records'],",
          "                    'properties': {",
          "                        'total': { 'type': 'integer', 'minimum': 0 },",
          "                        'limit': { 'type': 'integer', 'minimum': 1 },",
          "                        'dataset': { 'type': 'string', 'enum': ['CO2Emis'] },",
          "                        'records': { 'type': 'array' }",
          "                    }",
          "                })}",
          "            };",
          "            return schemas[schemaName];",
          "        };",
          "        ",
          "        var validateBasicResponse = function(expectedStatus) {",
          "            expectedStatus = expectedStatus || 200;",
          "            pm.test('Status code is ' + expectedStatus, function() {",
          "                pm.response.to.have.status(expectedStatus);",
          "            });",
          "            if (expectedStatus === 200) {",
